"use strict";(self.webpackChunkfantasy_football_team_evaluator=self.webpackChunkfantasy_football_team_evaluator||[]).push([[367],{705:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(2791),a=(r(6201),r(4165)),o=r(5861),u=r(9439),s=r(5828),c=r.n(s),i=(r(2831),r(4441)),l=r(7689),f=r.p+"static/media/sf_dynasty_ranks_rbb.fd22744395731193d435.csv",p=r(1025),d=r.n(p),h=r(1243),m=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.get("https://proxy.cors.sh/https://api.myfantasyleague.com/2024/".concat(n),{headers:{"x-cors-api-key":"temp_6f97c4476f4a07d8c0096946c4cf465f"}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error in API request");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),g=r(184);function v(){var e=(0,i.o)((function(e){return e.leagueProvider})),n=(0,i.o)((function(e){return e.setLeagueProvider})),r=(0,i.o)((function(e){return e.username})),s=(0,i.o)((function(e){return e.setUsername})),p=(0,i.o)((function(e){return e.userId})),h=(0,i.o)((function(e){return e.setUserId})),v=(0,i.o)((function(e){return e.leagueId})),x=(0,i.o)((function(e){return e.setLeagueId})),y=(0,i.o)((function(e){return e.setLeagueTeams})),w=(0,i.o)((function(e){return e.setSFPlayers})),b=(0,t.useState)([]),k=(0,u.Z)(b,2),j=k[0],E=k[1],L=(0,t.useState)([]),_=(0,u.Z)(L,2),N=_[0],I=_[1],P=(0,l.s0)();return(0,t.useEffect)((function(){fetch(f).then((function(e){return e.text()})).then((function(e){d().parse(e,{header:!0,complete:function(e){w(e.data)}})}))})),(0,t.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("export?TYPE=rosters&L=".concat(v,"&APIKEY=&FRANCHISE=&W=&JSON=1"));case 3:return n=e.sent,e.next=6,m("export?TYPE=players&L=".concat(v,"&APIKEY=&DETAILS=&SINCE=&PLAYERS=&JSON=1"));case 6:r=e.sent,j.forEach((function(e){var t=n.rosters.franchise.find((function(n){return n.id===e.owner_id})).player;t.forEach((function(e){var n=r.players.player.find((function(n){return n.id===e.id})),t=n.name.replaceAll("DEVY","").replaceAll("*","").split(", ");e.player_name=t[1]+" "+t[0],e.position=n.position})),e.players=t})),y(j),P("/evaluate-team"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),c().error("There was a problem with your request. See console"),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();""!==v&&j.length>0&&e()}),[j,v,y,P]),(0,t.useEffect)((function(){if(p){var e="https://api.sleeper.app/v1/user/".concat(p,"/leagues/nfl/2024");fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((function(e){c().success("League Data Obtained"),I(e.map((function(e){return{league_id:e.league_id,league_name:e.name}})))})).catch((function(e){c().info("There was an error doing your request"),console.error(e)}))}}),[p]),p?(0,g.jsxs)("div",{children:[(0,g.jsxs)("select",{className:"form-select my-2","aria-label":"Select League",onChange:function(e){return x(e.target.value)},children:[(0,g.jsx)("option",{value:"",defaultValue:!0,children:"Select League"}),"$",N.map((function(e){return(0,g.jsx)("option",{value:e.league_id,children:e.league_name},e.league_id)}))]}),(0,g.jsx)("button",{className:"btn btn-primary",onClick:function(){var e="https://api.sleeper.app/v1/league/".concat(v,"/rosters");fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((function(e){c().success("League Roster Data Obtained"),y(e),P("/evaluate-team")})).catch((function(e){c().info("There was an error doing your request"),console.error(e)}))},children:"Rank Teams"})]}):(0,g.jsxs)("div",{children:[(0,g.jsxs)("select",{className:"form-select my-2","aria-label":"League Provider",onChange:function(e){return n(e.target.value)},children:[(0,g.jsx)("option",{value:"",defaultValue:!0,children:"Select League Provider"}),(0,g.jsx)("option",{value:"1",children:"Sleeper"}),(0,g.jsx)("option",{value:"2",children:"MFL"})]}),"1"===e&&(0,g.jsxs)("div",{className:"input-group flex-nowrap my-2",children:[(0,g.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"@"}),(0,g.jsx)("input",{type:"text",className:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"addon-wrapping",onChange:function(e){return s(e.target.value)}})]}),"2"===e&&(0,g.jsxs)("div",{className:"input-group flex-nowrap my-2",children:[(0,g.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"#"}),(0,g.jsx)("input",{type:"text",className:"form-control",placeholder:"League ID","aria-label":"League ID","aria-describedby":"addon-wrapping",onChange:function(e){return x(e.target.value)}})]}),(0,g.jsx)("div",{className:"my-2",children:(0,g.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){if("1"===e){var n="https://api.sleeper.app/v1/user/".concat(r);fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((function(e){h(e.user_id)})).catch((function(e){c().info("There was an error doing your request"),console.error(e)}))}else{c().info("This mode may take a bit");var t=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("export?TYPE=league&L=".concat(v,"&APIKEY=&JSON=1"));case 3:n=e.sent,E(n.league.franchises.franchise.map((function(e){return{owner_name:e.name,owner_id:e.id,players:[],isMFL:!0}}))),c().success("Success!!!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c().error("There was a problem with your request. See console"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t()}},children:"Submit"})})]})}function x(){return(0,g.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center vh-100 bg-dark",children:[(0,g.jsx)("h2",{children:"Welcome to the team evaluator!"}),(0,g.jsx)("h5",{children:"Using the RBB rankings, you can see how your team stacks up against your other league mates"}),(0,g.jsx)(v,{})]})}},4441:function(e,n,r){r.d(n,{o:function(){return t}});var t=(0,r(5847).Ue)((function(e,n){return{username:"",setUsername:function(n){return e((function(){return{username:n}}))},userId:null,setUserId:function(n){return e((function(){return{userId:n}}))},leagueProvider:null,setLeagueProvider:function(n){return e((function(){return{leagueProvider:n}}))},leagueId:"",setLeagueId:function(n){return e((function(){return{leagueId:n}}))},leagueTeams:[],setLeagueTeams:function(n){return e((function(){return{leagueTeams:n}}))},sfPlayers:[],setSFPlayers:function(n){return e((function(){return{sfPlayers:n}}))}}}))}}]);
//# sourceMappingURL=367.b97d423e.chunk.js.map